<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Radiocosmo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    @import url('https://fonts.googleapis.com/css2?family=Spectral&display=swap');
</style>
<link rel="stylesheet" href="homepage.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<canvas id="stars"></canvas>

<div class="banner">
    <a href="https://forms.gle/92pu8sH3cgkqg9su6" target="_blank">Subscribe</a>
</div>

<div class="visualizer-container">
    <canvas id="visualizer"></canvas>
    <div class="track-info">
        <span id="current-time">0:00</span>
        <span id="duration">0:00</span>
    </div>
</div>

<div class="main">
    <div class="player">
<div class="now-playing" id="title">Select a track</div>
<button class="play-btn" onclick="play()" id="btn">
<i class="fas fa-play"></i>
</button>
    </div>
    
    <div class="playlist" id="list"></div>
</div>

<script>
const songs = [
{ title: "Nothing I Can Do", date: "24-10-25", url: "https://www.wimhouben.com/pub/radiocosmo/song03-master.mp3" },
{ title: "Waves", date: "24-10-25", url: "https://www.wimhouben.com/pub/radiocosmo/Song01-master.mp3" },
{ title: "Clavius", date: "03-03-25", url: "https://www.wimhouben.com/pub/radiocosmo/journeybeyondthestars/clavius.mp3" },
{ title: "Station V", date: "03-03-25", url: "https://www.wimhouben.com/pub/radiocosmo/journeybeyondthestars/station-v.mp3" },
{ title: "Tycho-2", date: "03-03-25", url: "https://www.wimhouben.com/pub/radiocosmo/journeybeyondthestars/tycho-2.mp3" },
{ title: "Russian Moon", date: "03-03-25", url: "https://www.wimhouben.com/pub/radiocosmo/journeybeyondthestars/russianmoon.mp3" },
{ title: "Monitor 77", date: "03-03-25", url: "https://www.wimhouben.com/pub/radiocosmo/journeybeyondthestars/monitor-77.mp3" },
{ title: "Music for the Mind", date: "24-06-24", url: "https://www.wimhouben.com/pub/radiocosmo/music-for-the-mind.mp3" },
{ title: "Cobblestones", date: "13-05-24", url: "https://www.wimhouben.com/pub/radiocosmo/cobblestones.mp3" },
{ title: "Interlude", date: "08-04-24", url: "https://www.wimhouben.com/pub/radiocosmo/interlude.mp3" },
{ title: "Be OK", date: "18-03-24", url: "https://www.wimhouben.com/pub/radiocosmo/be-OK.mp3" },
{ title: "Spring", date: "26-02-24", url: "https://www.wimhouben.com/pub/radiocosmo/spring.mp3" },
{ title: "Snowflakes", date: "15-01-24", url: "https://www.wimhouben.com/pub/radiocosmo/snow-flakes.mp3" },
{ title: "Easy on The Bass", date: "04-12-23", url: "https://www.wimhouben.com/pub/radiocosmo/easy-on-the-bass.mp3" },
{ title: "Little Stevie", date: "06-11-23", url: "https://www.wimhouben.com/pub/radiocosmo/little-stevie.mp3" },
{ title: "The Way You Are", date: "09-10-23", url: "https://www.wimhouben.com/pub/radiocosmo/the-way-you-are.mp3" },
{ title: "Everyday Things", date: "18-09-23", url: "https://www.wimhouben.com/pub/radiocosmo/everyday-things.mp3" },
{ title: "Do Not Disturb", date: "21-08-23", url: "https://www.wimhouben.com/pub/radiocosmo/do-not-disturb.mp3" },
{ title: "Infant Eyes", date: "07-08-23", url: "https://www.wimhouben.com/pub/radiocosmo/infant-eyes.mp3" },
{ title: "Switch", date: "24-07-23", url: "https://www.wimhouben.com/pub/radiocosmo/switch.mp3" },
{ title: "Bridge", date: "15-05-23", url: "https://www.wimhouben.com/pub/radiocosmo/bridge.mp3" },
{ title: "Birds", date: "03-04-23", url: "https://www.wimhouben.com/pub/radiocosmo/birds.mp3" },
{ title: "Tail Press", date: "03-04-23", url: "https://www.wimhouben.com/pub/radiocosmo/tail-press.mp3" },
{ title: "Bright Future Ahead", date: "06-03-23", url: "https://www.wimhouben.com/pub/radiocosmo/bright-future-ahead.mp3" },
{ title: "Happy Sad", date: "23-01-23", url: "https://www.wimhouben.com/pub/radiocosmo/happy-sad.mp3" },
{ title: "Nishinomiya", date: "02-01-23", url: "https://www.wimhouben.com/pub/radiocosmo/nishinomiya.mp3" },
{ title: "Van Life", date: "12-12-22", url: "https://www.wimhouben.com/pub/radiocosmo/van-life.mp3" },
{ title: "Cabinet of Curiousities", date: "21-11-22", url: "https://www.wimhouben.com/pub/radiocosmo/chamber-of-curiosity.mp3" },
{ title: "Rosy Retrospection feat. vhsgus", date: "12-11-22", url: "https://www.wimhouben.com/pub/radiocosmo/rosy-retrospection.mp3" },
{ title: "Sunday Morning", date: "17-10-22", url: "https://www.wimhouben.com/pub/radiocosmo/sunday-morning.mp3" },
{ title: "Jeanne", date: "26-09-22", url: "https://www.wimhouben.com/pub/radiocosmo/jeanne.mp3" },
{ title: "Reality Check", date: "29-08-22", url: "https://www.wimhouben.com/pub/radiocosmo/reality-check.mp3" },
{ title: "Leisure Skating", date: "01-08-22", url: "https://www.wimhouben.com/pub/radiocosmo/leisure-skating.mp3" },
{ title: "Personal Monopoly", date: "04-07-22", url: "https://www.wimhouben.com/pub/radiocosmo/personal-monopoly.mp3" },
{ title: "Shells and Corals", date: "06-06-22", url: "https://www.wimhouben.com/pub/radiocosmo/shells-and-corals.mp3" },
{ title: "At Midnight", date: "16-05-22", url: "https://www.wimhouben.com/pub/radiocosmo/at-midnight.mp3" },
{ title: "Notable People", date: "25-04-22", url: "https://www.wimhouben.com/pub/radiocosmo/notable-people.mp3" },
{ title: "International Art History", date: "11-04-22", url: "https://www.wimhouben.com/pub/radiocosmo/international-art-history.mp3" },
{ title: "Former Pro", date: "23-03-22", url: "https://www.wimhouben.com/pub/radiocosmo/former-pro.mp3" },
{ title: "Genuine Curiosity", date: "16-02-22", url: "https://www.wimhouben.com/pub/radiocosmo/genuine-curiosity.mp3" },
{ title: "Beginner's Mind", date: "12-01-22", url: "https://www.wimhouben.com/pub/radiocosmo/beginner's-mind.mp3" },
{ title: "Awkward Silence", date: "23-12-21", url: "https://www.wimhouben.com/pub/radiocosmo/awkward-silence.mp3" },
{ title: "Together Alone", date: "03-11-21", url: "https://www.wimhouben.com/pub/radiocosmo/together-alone.mp3" },
{ title: "Road Trip", date: "24-09-21", url: "https://www.wimhouben.com/pub/radiocosmo/road-trip.mp3" },
{ title: "Mark 2", date: "27-08-21", url: "https://www.wimhouben.com/pub/radiocosmo/mark-2.mp3" },
{ title: "fomo", date: "16-07-21", url: "https://www.wimhouben.com/pub/radiocosmo/fomo.mp3" },
{ title: "Mark 1", date: "25-06-21", url: "https://www.wimhouben.com/pub/radiocosmo/mark-1.mp3" },
{ title: "FUD", date: "04-06-21", url: "https://www.wimhouben.com/pub/radiocosmo/fud.mp3" },
{ title: "Rewnd", date: "14-05-21", url: "https://www.wimhouben.com/pub/radiocosmo/rewnd.mp3" },
{ title: "Thnkng", date: "23-04-21", url: "https://www.wimhouben.com/pub/radiocosmo/thnkng.mp3" },
{ title: "doppr", date: "02-04-21", url: "https://www.wimhouben.com/pub/radiocosmo/doppr.mp3" },
{ title: "Barbrshop", date: "21-03-21", url: "https://www.wimhouben.com/pub/radiocosmo/barbrshop.mp3" },
{ title: "Shortsqueeze", date: "19-02-21", url: "https://www.wimhouben.com/pub/radiocosmo/short-squeeze.mp3" },
{ title: "Buttr", date: "29-01-21", url: "https://www.wimhouben.com/pub/radiocosmo/buttr.mp3" },
{ title: "Sempai", date: "15-01-21", url: "https://www.wimhouben.com/pub/radiocosmo/sempai.mp3" },
{ title: "Rookiemistake", date: "01-01-21", url: "https://www.wimhouben.com/pub/radiocosmo/rookie-mistake.mp3" },
{ title: "Ahuacatl", date: "18-12-20", url: "https://www.wimhouben.com/pub/radiocosmo/ahuacatl.mp3" },
{ title: "Lazy Sunday", date: "02-12-20", url: "https://www.wimhouben.com/pub/radiocosmo/lazy-sunday.mp3" },
{ title: "UFU", date: "18-11-20", url: "https://www.wimhouben.com/pub/radiocosmo/UFU.mp3" },
{ title: "addseoul", date: "04-11-20", url: "https://www.wimhouben.com/pub/radiocosmo/addseoul.mp3" },
{ title: "Mattari", date: "28-10-20", url: "https://www.wimhouben.com/pub/radiocosmo/mattari.mp3" },
{ title: "Sonder", date: "21-10-20", url: "https://www.wimhouben.com/pub/radiocosmo/sonder.mp3" },
{ title: "Memories", date: "07-10-20", url: "https://www.wimhouben.com/pub/radiocosmo/memories.mp3" },
{ title: "Platform Two", date: "18-09-20", url: "https://www.wimhouben.com/pub/radiocosmo/platform-two.mp3" },
{ title: "Nord XL", date: "18-09-20", url: "https://www.wimhouben.com/pub/radiocosmo/nordXL.mp3" },
{ title: "Blue MK", date: "18-09-20", url: "https://www.wimhouben.com/pub/radiocosmo/blueMK.mp3" },
{ title: "Oceanstrategy", date: "18-09-20", url: "https://www.wimhouben.com/pub/radiocosmo/oceanstrategy.mp3" },
{ title: "Heaven", date: "18-09-20", url: "https://www.wimhouben.com/pub/radiocosmo/someclouds.mp3" },
{ title: "15122016_v2", date: "15-12-16", url: "https://www.wimhouben.com/pub/radiocosmo/15122016.mp3" },
{ title: "beat1304", date: "08-05-16", url: "https://www.wimhouben.com/pub/radiocosmo/beat1304.mp3" },
{ title: "Dilution", date: "13-04-16", url: "https://www.wimhouben.com/pub/radiocosmo/Dilution.mp3" },
{ title: "112 - Dance With Me (Radiocosmo Soul Injection)", date: "09-10-14", url: "https://www.wimhouben.com/pub/radiocosmo/112-dance-with-me-radiocosmo-soulinjection.mp3" },
{ title: "Sunday Loop", date: "???", url: "https://www.wimhouben.com/pub/radiocosmo/sunday-loop.mp3" },
{ title: "Moodswing", date: "???", url: "https://www.wimhouben.com/pub/radiocosmo/moodswing.mp3" },
{ title: "Just Friends", date: "???", url: "https://www.wimhouben.com/pub/radiocosmo/just-friends.mp3" }
];

let i = 0, playing = false;
const audio = new Audio();
audio.crossOrigin = "anonymous";

// Web Audio API setup
let audioContext, analyser, source, dataArray, bufferLength;

function setupAudioContext() {
    if (audioContext) return;
    
    audioContext = new (window.AudioContext || window.webkitAudioContext)();
    analyser = audioContext.createAnalyser();
    analyser.fftSize = 128;
    
    source = audioContext.createMediaElementSource(audio);
    source.connect(analyser);
    analyser.connect(audioContext.destination);
    
    bufferLength = analyser.frequencyBinCount;
    dataArray = new Uint8Array(bufferLength);
}

// Visualizer canvas
const canvas = document.getElementById('visualizer');
const canvasCtx = canvas.getContext('2d');

function resizeCanvas() {
    canvas.width = canvas.offsetWidth;
    canvas.height = canvas.offsetHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

function drawVisualizer() {
    requestAnimationFrame(drawVisualizer);
    
    if (!analyser) {
        canvasCtx.fillStyle = 'rgba(0, 0, 0, 0.1)';
        canvasCtx.fillRect(0, 0, canvas.width, canvas.height);
        return;
    }
    
    analyser.getByteFrequencyData(dataArray);
    
    canvasCtx.fillStyle = 'rgba(0, 0, 0, 0.3)';
    canvasCtx.fillRect(0, 0, canvas.width, canvas.height);
    
    const barCount = 40;
    const barWidth = (canvas.width / barCount) * 0.8;
    const gap = (canvas.width / barCount) * 0.2;
    
    for (let j = 0; j < barCount; j++) {
        const dataIndex = Math.floor((j / barCount) * bufferLength);
        const barHeight = (dataArray[dataIndex] / 255) * canvas.height * 0.8;
        
        const x = j * (barWidth + gap);
        const y = canvas.height - barHeight;
        
        const gradient = canvasCtx.createLinearGradient(0, canvas.height, 0, y);
        gradient.addColorStop(0, '#4a90e2');
        gradient.addColorStop(1, '#ffffff');
        
        canvasCtx.fillStyle = gradient;
        canvasCtx.fillRect(x, y, barWidth, barHeight);
    }
}

drawVisualizer();

// Format time
function formatTime(seconds) {
    if (isNaN(seconds)) return '0:00';
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${mins}:${secs.toString().padStart(2, '0')}`;
}

// Update time display
audio.addEventListener('timeupdate', () => {
    document.getElementById('current-time').textContent = formatTime(audio.currentTime);
});

audio.addEventListener('loadedmetadata', () => {
    document.getElementById('duration').textContent = formatTime(audio.duration);
});

// Playlist
songs.forEach((s, x) => {
    const el = document.createElement('div');
    el.className = 'song';
    el.innerHTML = `<span class="song-title">${s.title}</span><span class="song-date">${s.date}</span>`;
    el.onclick = () => load(x);
    list.appendChild(el);
});

function load(x) {
    i = x;
    audio.src = songs[i].url;
    title.textContent = songs[i].title;
    document.querySelectorAll('.song').forEach((el, idx) => el.classList.toggle('active', idx === i));
    if (playing) audio.play();
}

function play() {
    if (!audio.src) load(0);
    
    if (!audioContext) {
        setupAudioContext();
    }
    
    if (audioContext.state === 'suspended') {
        audioContext.resume();
    }
    
    playing ? audio.pause() : audio.play();
    playing = !playing;
    btn.innerHTML = playing ? '<i class="fas fa-pause"></i>' : '<i class="fas fa-play"></i>';
}

audio.onended = () => {
    i = (i + 1) % songs.length;
    load(i);
    audio.play().catch(() => {});
};

load(0);

// Stars
const starsCanvas = document.getElementById('stars');
const ctx = starsCanvas.getContext('2d');
let w, h, stars = [];

function resize() {
    w = starsCanvas.width = window.innerWidth;
    h = starsCanvas.height = window.innerHeight;
    stars = Array.from({ length: 60 }, () => ({
        x: Math.random() * w,
        y: Math.random() * h,
        r: Math.random() * 1.2 + 0.2,
        alpha: Math.random() * 0.3,
        dAlpha: (Math.random() * 0.01 + 0.003) * (Math.random() < 0.5 ? 1 : -1)
    }));
}

function draw() {
    ctx.clearRect(0, 0, w, h);
    ctx.fillStyle = 'white';
    for (let s of stars) {
        s.alpha += s.dAlpha;
        if (s.alpha <= 0 || s.alpha >= 0.3) s.dAlpha *= -1;
        ctx.globalAlpha = s.alpha;
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
        ctx.fill();
    }
    ctx.globalAlpha = 1;
    requestAnimationFrame(draw);
}

window.addEventListener('resize', resize);
resize();
draw();
</script>
</body>

</html>